<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Page</title>
  <link href="user.css" rel="stylesheet">
</head>

<body>
  <header>
    <h1>Welcome, User</h1>
    <nav>
      <ul>
        <li><a href='../users page/home.html'>Home</a></li>
      
        <li><a href='../users page/order.html'>Order</a></li>
        <li><a href="#">Logout</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section>
      <h2>Place an Order</h2>
      <form id="order-form" method="get" onsubmit="placeOrder()" action="http://127.0.0.1:80/placeOrder">
        <div class="form-row">
          <label for="product-name">Product Name:</label>
          <input type="text" name="ProductName" id="product-name" required>
        </div>
        <div class="form-row">
          <label for="quantity">Quantity:</label>
          <input type="number" name="Quantity" id="quantity" required>
        </div>
        <div class="form-row">
          <label for="delivery-address">Delivery Address:</label>
          <input type="text" name="Address" id="delivery-address" required>
          <input type="hidden" name="UserName" value="Anu">
        </div>
        
        <button type="submit">Place Order</button>
      </form>
    </section>
  </main>

  <footer>
    <p>&copy; 2023 Your Company. All rights reserved.</p>
  </footer>

  <script>
    document.getElementById("order-form").addEventListener("submit", function(event) {
    event.preventDefault(); // Prevent the default form submission

    // Get the form data
    const form = event.target;
    const formData = new FormData(form);
    const searchParams = new URLSearchParams(formData);

    // Construct the API URL with the form data
    const apiUrl = form.action + "?" + searchParams.toString();

    // Make API call here
    // Assuming you are using Fetch API for the API call
    fetch(apiUrl)
      .then(response => {
        // Check for a successful response from the API
        if (response.ok) {
          // Redirect to the HTML page upon successful API response
          window.location.href = "../users page/home.html";
        } else {
          // Handle unsuccessful response from the API
          console.log("API call was unsuccessful");
        }
      })
      .catch(error => {
        // Handle any errors that occurred during the API call
        console.error("Error:", error);
      });
  });
  </script>
</body>

</html>
